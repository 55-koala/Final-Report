# Final Report

## å€‹äººè¨˜å¸³ç®¡ç†ç³»çµ±


## æ‘˜è¦

é€™æ¬¡çš„ä¸»é¡Œæ˜¯åŸºæ–¼ä½¿ç”¨è€…æ¯æ—¥æ”¯å‡ºçš„è¨˜éŒ„è³‡æ–™ï¼Œé€éæ¢ç´¢æ€§è³‡æ–™åˆ†æèˆ‡è¦–è¦ºåŒ–ï¼Œæ¢è¨ä¸åŒæ”¯å‡ºé¡åˆ¥çš„æ¶ˆè²»åˆ†å¸ƒæƒ…æ³ï¼Œä¸¦é€²è¡Œæ¯æœˆçµ±è¨ˆèˆ‡æ¯æ—¥é ç®—ä¸Šé™æª¢æŸ¥ï¼Œä»¥å”åŠ©ä½¿ç”¨è€…æŒæ¡æ¶ˆè²»ç¿’æ…£ä¸¦åŠæ—©é è­¦éåº¦æ¶ˆè²»é¢¨éšªã€‚å ±å‘ŠåŒæ™‚å°‡è³‡æ–™åŒ¯å‡ºç‚º Excel æª”æ¡ˆä»¥åˆ©ä¿å­˜èˆ‡é€²ä¸€æ­¥åˆ†æã€‚åœ–è¡¨å‘ˆç¾æ”¯å‡ºçµæ§‹èˆ‡æ™‚é–“è®ŠåŒ–è¶¨å‹¢ï¼Œå¯åšç‚ºå€‹äººè²¡å‹™ç®¡ç†ã€è‡ªå‹•è¨˜å¸³ç³»çµ±è¨­è¨ˆèˆ‡ç†è²¡æ•™è‚²ç¯„ä¾‹çš„åŸºç¤ã€‚

## å¼•è¨€

- èƒŒæ™¯ : 
éš¨è‘—è¡Œå‹•æ”¯ä»˜èˆ‡ç·šä¸Šæ¶ˆè²»æ™®åŠï¼Œå€‹äººç†è²¡éœ€æ±‚æ—¥ç›Šå¢åŠ ï¼Œç°¡æ˜“å¯ç”¨çš„è¨˜å¸³èˆ‡æ”¯å‡ºåˆ†æå·¥å…·é€æ¼¸æˆç‚ºç¾ä»£äººç®¡ç†è²¡å‹™çš„é‡è¦æ‰‹æ®µï¼Œé€™å€‹è¨˜å¸³ç³»çµ±å»ºç½®æ–¼ Google Colab å¹³å°ï¼Œçµåˆ Python è³‡æ–™è™•ç†èˆ‡è¦–è¦ºåŒ–å·¥å…·ï¼Œèƒ½å¿«é€Ÿè¼¸å…¥ã€æ•´ç†èˆ‡åˆ†ææ¶ˆè²»ç´€éŒ„ã€‚

- ç›®çš„ : 
é€éæ¯æ—¥è¨˜å¸³è³‡æ–™ï¼Œå»ºç«‹ä¸€å¥—åŸºç¤åˆ†ææµç¨‹ï¼Œå…§å®¹åŒ…å«ï¼šæŒ‡å®šæœˆä»½æˆ–å…¨éƒ¨è³‡æ–™çš„æŸ¥è©¢ã€æ¯æœˆç¸½æ”¯å‡ºèˆ‡æ¯æ—¥å¹³å‡èŠ±è²»çš„çµ±è¨ˆã€æ¯æ—¥æ˜¯å¦è¶…éé ç®—ä¸Šé™çš„è­¦ç¤ºã€åˆ†é¡åœ“é¤…åœ–èˆ‡æ™‚é–“æŠ˜ç·šåœ–çš„è¦–è¦ºåŒ–åˆ†æã€è³‡æ–™è‡ªå‹•åŒ¯å‡ºç‚º Excel æª”æ¡ˆç­‰ï¼Œé€éé€™äº›åŠŸèƒ½ï¼Œä½¿ç”¨è€…èƒ½å¿«é€ŸæŒæ¡è²¡å‹™ç‹€æ³ã€æ‰¾å‡ºä¸»è¦èŠ±è²»é¡åˆ¥ä¸¦å³æ™‚èª¿æ•´æ”¯å‡ºç­–ç•¥ã€‚

## æ–¹æ³•

- åˆ†æå·¥å…· : 
  - Pythonï¼šè³‡æ–™è™•ç†èˆ‡åˆ†æçš„ä¸»è¦èªè¨€
    
  - Pandasï¼šè³‡æ–™æ”¶é›†ã€æ¸…ç†ã€çµ±è¨ˆé‹ç®—
  
  - Matplotlibï¼šæ”¯å‡ºè¦–è¦ºåŒ–åˆ†æï¼ˆé•·æ¢åœ–ã€æŠ˜ç·šåœ–ã€åœ“é¤…åœ–ï¼‰
  
  - OpenPyXLï¼šå°‡è³‡æ–™åŒ¯å‡ºç‚º Excel æª”æ¡ˆ
  
  - Google Colabï¼šç¨‹å¼åŸ·è¡Œèˆ‡çµæœå±•ç¤ºç’°å¢ƒ
  
  - Google Drive/Filesï¼šè³‡æ–™ä¸‹è¼‰èˆ‡å„²å­˜

- æ•¸æ“šè™•ç†èˆ‡åˆ†ææ­¥é©Ÿ :
  - 1.æ¥æ”¶ä½¿ç”¨è€…è¼¸å…¥çš„æ¯æ—¥è¨˜å¸³è³‡è¨Šï¼ŒåŒ…æ‹¬ï¼šæ—¥æœŸã€é¡åˆ¥ã€é‡‘é¡èˆ‡å‚™è¨»
    
  - 2.å°‡è¼¸å…¥è³‡æ–™å­˜å…¥ DataFrame ä¸¦ä¾ç…§æ—¥æœŸæ’åº
    
  - 3.ä½¿ç”¨è€…å¯é¸æ“‡æŸ¥è©¢ç‰¹å®šæœˆä»½æˆ–å…¨éƒ¨è³‡æ–™
    
  - 4.çµ±è¨ˆæŸ¥è©¢è³‡æ–™çš„ç¸½èŠ±è²»ã€æ¯æ—¥å¹³å‡èŠ±è²»
    
  - 5.æ¯”å°æ¯æ—¥ç¸½æ”¯å‡ºæ˜¯å¦è¶…å‡ºè¨­å®šä¸Šé™ï¼ˆå¦‚æ¯æ—¥ä¸Šé™ç‚º 500 å…ƒï¼‰ï¼Œä¸¦æä¾›è­¦ç¤º
    
  - 6.å°‡å®Œæ•´è³‡æ–™è¼¸å‡ºç‚º Excel æª”ï¼Œä¾›ä½¿ç”¨è€…ä¸‹è¼‰å‚™ä»½
    
  - 7.ä½¿ç”¨åœ–è¡¨å‘ˆç¾ã€Œæ¯æ—¥æ”¯å‡ºæŠ˜ç·šåœ–ã€èˆ‡ã€Œé¡åˆ¥æ”¯å‡ºæ¯”ä¾‹åœ“é¤…åœ–ã€ï¼Œè¼”åŠ©ä½¿ç”¨è€…ç†è§£æ¶ˆè²»ç¿’æ…£èˆ‡åˆ†å¸ƒæƒ…å½¢

## ç¨‹å¼ç¢¼

```python
!pip install openpyxl matplotlib

import pandas as pd
import datetime
import matplotlib.pyplot as plt
from IPython.display import display
from google.colab import files

if 'records' not in globals():
    records = []

print("è¼¸å…¥ä¸€ç­†è¨˜å¸³è³‡æ–™ï¼š")
date_str = input("æ—¥æœŸï¼ˆYYYY-MM-DDï¼Œé è¨­ä»Šå¤©ï¼‰: ") or datetime.date.today().strftime('%Y-%m-%d')
category = input("é¡åˆ¥ï¼ˆå¦‚ï¼šé¤é£²ã€äº¤é€šã€å¨›æ¨‚ï¼‰: ")
amount = float(input("é‡‘é¡: "))
note = input("å‚™è¨»ï¼ˆå¯ç©ºï¼‰: ")


records.append({
    "æ—¥æœŸ": pd.to_datetime(date_str),
    "é¡åˆ¥": category,
    "é‡‘é¡": amount,
    "å‚™è¨»": note
})


df = pd.DataFrame(records)
df.sort_values("æ—¥æœŸ", inplace=True)


daily_limit = 500

print("\nå…¨éƒ¨è¨˜å¸³è³‡æ–™ï¼š")
display(df)


month_query = input("\næŸ¥è©¢æœˆä»½ï¼ˆæ ¼å¼ YYYY-MMï¼Œç•™ç©º=å…¨éƒ¨ï¼‰: ")
if month_query:
    df['å¹´æœˆ'] = df['æ—¥æœŸ'].dt.to_period("M").astype(str)
    df_month = df[df['å¹´æœˆ'] == month_query]
else:
    df_month = df.copy()


total = df_month["é‡‘é¡"].sum()
days = df_month["æ—¥æœŸ"].nunique()
average = total / days if days else 0

print(f"\nçµ±è¨ˆè³‡è¨Šï¼ˆ{month_query if month_query else 'å…¨éƒ¨'}ï¼‰ï¼š")
print(f"ç¸½é‡‘é¡ï¼š{total:.2f}")
print(f"æ¯æ—¥å¹³å‡ï¼š{average:.2f}")


print("\nè¶…å‡ºæ¯æ—¥ä¸Šé™æé†’ï¼š")
daily_sum = df_month.groupby("æ—¥æœŸ")["é‡‘é¡"].sum()
for day, total_amt in daily_sum.items():
    if total_amt > daily_limit:
        print(f" {day.date()} èŠ±è²» {total_amt} è¶…éä¸Šé™ {daily_limit}")

filename = "è¨˜å¸³åˆ†æ.xlsx"
df.to_excel(filename, index=False)
print(f"\nè³‡æ–™å·²å„²å­˜ç‚ºï¼š{filename}")
files.download(filename)


print("\nåœ–è¡¨åˆ†æï¼š")
cat_sum = df_month.groupby("é¡åˆ¥")["é‡‘é¡"].sum()
cat_sum.plot(kind='pie', autopct='%1.1f%%', figsize=(6,6), title="å„é¡åˆ¥æ”¯å‡ºæ¯”ä¾‹")
plt.ylabel("")
plt.show()


daily_sum.plot(kind='line', marker='o', title="æ¯æ—¥æ”¯å‡ºé‡‘é¡")
plt.xlabel("æ—¥æœŸ")
plt.ylabel("é‡‘é¡")
plt.xticks(rotation=45)
plt.grid(True)
plt.show()

```
## çµæœèˆ‡åˆ†æ
- ç®±å‹åœ–ï¼šé¡¯ç¤ºä¸åŒå“ç¨®ä¸‹å„ç‰¹å¾µçš„åˆ†å¸ƒ

```python

for col in df.columns[:-1]:
    plt.figure(figsize=(6, 4))
    sns.boxplot(x='species', y=col, data=df)
    plt.title(f'{col} ä¸åŒå“ç¨®çš„åˆ†å¸ƒ')
    plt.tight_layout()
    plt.show()

```

- æŠ˜ç·šåœ–ï¼šæ¯å€‹å“ç¨®çš„ç‰¹å¾µå¹³å‡å€¼è¶¨å‹¢

```python

mean_features = df.groupby('species').mean()
plt.figure(figsize=(8, 5))
for species in mean_features.index:
    plt.plot(mean_features.columns, mean_features.loc[species], marker='o', label=species)

plt.title('å„å“ç¨®å¹³å‡ç‰¹å¾µå€¼æŠ˜ç·šåœ–')
plt.xlabel('ç‰¹å¾µ')
plt.ylabel('å¹³å‡å€¼')
plt.xticks(rotation=45)
plt.legend()
plt.grid(True)
plt.tight_layout()
plt.show()

```

- é•·æ¢åœ–ï¼šå±•ç¤ºå„ç‰¹å¾µåœ¨ä¸åŒå“ç¨®çš„å¹³å‡å€¼

```python

mean_features.T.plot(kind='bar', figsize=(10, 6))
plt.title('ä¸åŒå“ç¨®ç‰¹å¾µå¹³å‡å€¼é•·æ¢åœ–')
plt.ylabel('å¹³å‡å€¼')
plt.xticks(rotation=45)
plt.tight_layout()
plt.show()

```

- å»ºç«‹æ¨¡å‹ä¸¦è¼¸å‡ºåˆ†é¡å ±å‘Š

```python

X = df.iloc[:, :-1]
y = df['species']
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)

model = LogisticRegression(max_iter=200)
model.fit(X_train, y_train)
y_pred = model.predict(X_test)

print("\nğŸ”¹ åˆ†é¡å ±å‘Šï¼š")
print(classification_report(y_test, y_pred))

```
- åˆ†æçµæœ
  - petal é•·åº¦èˆ‡å¯¬åº¦ æ˜¯æœ€å…·é‘‘åˆ¥åŠ›çš„ç‰¹å¾µï¼Œsetosa å¹¾ä¹å®Œå…¨å¯ä¾æ­¤åˆ†é›¢ã€‚

  - sepal ç‰¹å¾µ åœ¨ä¸‰å€‹å“ç¨®ä¸­æœ‰éƒ¨åˆ†é‡ç–Šï¼Œè¾¨è­˜æ•ˆæœç›¸å°è¼ƒå·®ã€‚

  - versicolor èˆ‡ virginica æœ€æ˜“æ··æ·†ï¼Œå› ç‰¹å¾µç¯„åœè¼ƒæ¥è¿‘ã€‚

## çµè«–èˆ‡å»ºè­°
- çµè«–:
  - èŠ±ç“£é•·åº¦èˆ‡å¯¬åº¦ï¼ˆpetal length, petal widthï¼‰ ç‚ºæœ€å…·è¾¨è­˜åŠ›çš„ç‰¹å¾µï¼Œå°¤å…¶æ˜¯å° Setosaï¼Œå…¶ç‰¹å¾µåˆ†å¸ƒæ˜é¡¯èˆ‡å…¶ä»–å…©é¡å€éš”ã€‚

  - è¼ç‰‡ç‰¹å¾µï¼ˆsepal length, sepal widthï¼‰ å€åˆ¥èƒ½åŠ›è¼ƒå¼±ï¼Œä¸‰ç¨®èŠ±ä¹‹é–“çš„é‡ç–Šè¼ƒå¤šï¼Œç‰¹åˆ¥æ˜¯ Versicolor èˆ‡ Virginicaã€‚
   
  - å¹³å‡å€¼åœ–ï¼ˆæŠ˜ç·šåœ–èˆ‡é•·æ¢åœ–ï¼‰ é¡¯ç¤ºå‡ºä¸‰å€‹å“ç¨®åœ¨å„ç‰¹å¾µä¸Šæœ‰ç©©å®šçš„è¶¨å‹¢å·®ç•°ï¼Œå°¤å…¶åœ¨èŠ±ç“£ç›¸é—œç‰¹å¾µä¸Šåˆ†å¸ƒå·®ç•°æ˜é¡¯ã€‚

  - ä½¿ç”¨é‚è¼¯è¿´æ­¸æ¨¡å‹é€²è¡Œåˆ†é¡ï¼Œæ•´é«”æº–ç¢ºç‡é«˜ï¼Œå°¤å…¶å° Setosa åˆ†é¡æº–ç¢ºç‡æ¥è¿‘ 100%ã€‚
  
- å»ºè­°:
  - å°å…¥ PCAï¼ˆä¸»æˆåˆ†åˆ†æï¼‰ï¼Œä»¥è¦–è¦ºåŒ–é«˜ç¶­ç‰¹å¾µåœ¨äºŒç¶­ç©ºé–“ä¸­çš„åˆ†å¸ƒï¼Œå¯é€²ä¸€æ­¥é©—è­‰ç‰¹å¾µå¯åˆ†æ€§ã€‚
    
  - é™¤åˆ†é¡å ±å‘Šå¤–ï¼Œå¯åŠ å…¥ æ··æ·†çŸ©é™£ã€ROC æ›²ç·šã€F1-score ç­‰æŒ‡æ¨™ï¼Œä»¥æ›´å…¨é¢è©•ä¼°æ¨¡å‹æ€§èƒ½ã€‚
  
  - å¯å°‡æ¨¡å‹éƒ¨ç½²ç‚ºç°¡å–® Web æ‡‰ç”¨ï¼Œä¾›ç”¨æˆ¶è¼¸å…¥ç‰¹å¾µè³‡æ–™ä¸¦å³æ™‚é æ¸¬å“ç¨®ï¼Œæå‡äº’å‹•æ€§èˆ‡æ‡‰ç”¨åƒ¹å€¼ã€‚

